{
  "entities": {
    "Event": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Event",
      "type": "object",
      "description": "Represents an event, such as a tech conference.",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the event."
        },
        "description": {
          "type": "string",
          "description": "Description of the event."
        },
        "date": {
          "type": "string",
          "description": "Date of the event.",
          "format": "date-time"
        },
        "location": {
          "type": "string",
          "description": "Location of the event."
        },
        "userId": {
          "type": "string",
          "description": "The ID of the user who created the event."
        }
      },
      "required": [
        "name",
        "date",
        "location",
        "userId"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/events/{eventId}",
        "definition": {
          "entityName": "Event",
          "schema": {
            "$ref": "#/backend/entities/Event"
          },
          "description": "Stores event data. Includes 'userId' for ownership-based security rules.",
          "params": [
            {
              "name": "eventId",
              "description": "The unique ID of the event."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure is simplified to a single 'events' collection. This is more efficient for querying all events and relies on a `userId` field within each event document for ownership and security rules. This avoids nested collections which can complicate queries and security rules, especially when trying to list all events across all users."
  }
}
